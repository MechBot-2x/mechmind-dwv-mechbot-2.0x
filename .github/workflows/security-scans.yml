name: Security Scans  
on:  
  schedule:  
    - cron: '0 0 * * 1'  # Ejecuci贸n semanal  

jobs:  
  codeql-analysis:  
    runs-on: ubuntu-latest  
    steps:  
      - uses: actions/checkout@v4  
      - uses: github/codeql-action/init@v2  
        with:  
          languages: javascript, python  
      - uses: github/codeql-action/analyze@v2  

  trivy-scan:  
    runs-on: ubuntu-latest  
    steps:  
      - uses: actions/checkout@v4  
      - name: Escanear im谩genes Docker  
        uses: aquasecurity/trivy-action@0.9.2  
        with:  
          image-ref: 'services/auth-service/Dockerfile'  
          format: 'sarif'
          output: 'trivy-results.sarif'
          
  **Prop贸sito**: Detectar vulnerabilidades en c贸digo, dependencias y configuraciones.  
**Herramientas**:  
- **CodeQL**: An谩lisis est谩tico de c贸digo.  
- **Trivy**: Escaneo de im谩genes Docker.  
- **TruffleHog**: Detecci贸n de secretos expuestos.
**Protecciones de Entorno**:  
   - Approvals manuales para despliegues en producci贸n.  
   - Secrets cifrados con pol铆ticas de acceso granular.  

---

### **Conclusi贸n**  
Esta configuraci贸n de workflows permite:  
- **Escalabilidad**: Manejo eficiente de un monorepo con m煤ltiples tecnolog铆as.  
- **Seguridad**: Escaneos proactivos en cada capa (c贸digo, dependencias, IaC).  
- **Eficiencia**: Paralelizaci贸n y cacheo para reducir tiempos de ejecuci贸n.  

驴Necesitas ajustar alg煤n flujo para requisitos espec铆ficos de tu equipo? 
